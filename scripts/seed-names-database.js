#!/usr/bin/env node

/**
 * Script to seed the Firebase names collection with Iraqi names
 * Run this script to populate the database with common Iraqi names
 */

import { initializeApp } from 'firebase/app';
import { getFirestore, collection, addDoc, query, where, getDocs } from 'firebase/firestore';
import dotenv from 'dotenv';

// Load environment variables
dotenv.config({ path: '.env.local' });

// Firebase configuration
const firebaseConfig = {
  apiKey: process.env.VITE_FIREBASE_API_KEY,
  authDomain: process.env.VITE_FIREBASE_AUTH_DOMAIN,
  projectId: process.env.VITE_FIREBASE_PROJECT_ID,
  storageBucket: process.env.VITE_FIREBASE_STORAGE_BUCKET,
  messagingSenderId: process.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
  appId: process.env.VITE_FIREBASE_APP_ID,
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// Iraqi names dataset
const iraqiNames = {
  maleFirstNames: [
    'آدم', 'أثير', 'أحمد', 'أديب', 'أسامة', 'أسمهان', 'أسيل', 'أكثم', 'ألماس', 'أمير', 'أنس', 'أنمار', 'أوس', 'أويس', 'أياد', 'أيوب', 'أيهم', 'إبراهيم', 'إدريس', 'إقدام', 'إياد', 'إياس', 'إلياس', 'إيهاب', 'باقر', 'باهر', 'باسل', 'بدر', 'براء', 'بهجت', 'بهلوان', 'بيبرس', 'بشار', 'بشير', 'بسام', 'بسيم', 'بلال', 'تأبط', 'تامر', 'تبارك', 'تميم', 'توفيق', 'ثائر', 'ثامر', 'جابر', 'جاسم', 'جبار', 'جراح', 'جبريل', 'جلاء', 'جلال', 'جمال', 'جميل', 'جواد', 'جود', 'حاتم', 'حارث', 'حازم', 'حامد', 'حبيب', 'حجاج', 'حسام', 'حسان', 'حسيب', 'حسن', 'حسين', 'حكيم', 'حليم', 'حمزة', 'حمود', 'حنان', 'حقي', 'حيدر', 'حيدرة', 'خالد', 'خليل', 'خميس', 'داود', 'داني', 'دريد', 'ذوالفقار', 'ذياب', 'رضا', 'رزاق', 'رشاد', 'رسل', 'رسلان', 'رشيد', 'رضوان', 'رعد', 'راغب', 'رافد', 'راكان', 'رامي', 'رائد', 'رأفت', 'راني', 'ربيع', 'رياض', 'ريان', 'رمزي', 'زكريا', 'زيد', 'زياد', 'سجاد', 'سعد', 'سعدون', 'سعود', 'سعيد', 'سراج', 'سرمد', 'سفيان', 'سلمان', 'سليم', 'سمير', 'سند', 'سهيل', 'ساهر', 'سيف', 'شاكر', 'شادي', 'شعيب', 'شفيق', 'شعلان', 'شميل', 'شهاب', 'شوان', 'شوكت', 'صابر', 'صافي', 'صالح', 'صباح', 'صبري', 'صفاء', 'صفوان', 'صقر', 'صهيب', 'ضياء', 'ضيف', 'طارق', 'طاهر', 'طلال', 'طه', 'عابد', 'عابدين', 'عادل', 'عاصم', 'عاطف', 'عامر', 'عايد', 'عباس', 'عبد الباري', 'عبد الباسط', 'عبد الباقي', 'عبد الجبار', 'عبد الجليل', 'عبد الحكيم', 'عبد الحليم', 'عبد الحميد', 'عبد الحي', 'عبد الخالق', 'عبد الدايم', 'عبد الرازق', 'عبد الرزاق', 'عبد الرشيد', 'عبد الستار', 'عبد السلام', 'عبد الشافي', 'عبد الصمد', 'عبد العظيم', 'عبد الغفار', 'عبد الغفور', 'عبد الغني', 'عبد الفتاح', 'عبد القادر', 'عبد القهار', 'عبد القوي', 'عبد الكريم', 'عبد اللطيف', 'عبد المعين', 'عبد المنعم', 'عبد الوهاب', 'عبد الهادي', 'عبد الله', 'عبد العزيز', 'عبود', 'عجاج', 'عذير', 'عصام', 'عصمت', 'عقيل', 'علاء', 'علاوي', 'علي', 'عمار', 'عمارة', 'عمران', 'عماد', 'عناد', 'عنان', 'عنتر', 'عودة', 'عواد', 'عوض', 'عويص', 'عدي', 'عيد', 'عيسى', 'عيفان', 'غانم', 'غالب', 'غسان', 'غني', 'غيث', 'فادي', 'فارس', 'فاروق', 'فاضل', 'فالح', 'فائز', 'فاتح', 'فخري', 'فراس', 'فلاح', 'فهد', 'فؤاد', 'فوز', 'فوزي', 'فيصل', 'قاسم', 'قحطان', 'قصي', 'قتيبة', 'قيس', 'كاظم', 'كرم', 'كرار', 'كليب', 'كمال', 'كنان', 'كناري', 'كوثر', 'لقمان', 'لؤي', 'لبيب', 'ليث', 'لميع', 'لهيب', 'ماجد', 'ماهر', 'مازن', 'مأمون', 'مجاهد', 'مجد', 'مدثر', 'مراد', 'مرتضى', 'مروان', 'مزهر', 'مستور', 'مسلم', 'مشاري', 'مشتاق', 'مشعل', 'مشير', 'مصدق', 'مصعب', 'مصطفى', 'مطر', 'مطيع', 'مظفر', 'معاذ', 'معتز', 'معتصم', 'معز', 'معن', 'مقداد', 'مقدام', 'مكارم', 'مكرم', 'ممدوح', 'منار', 'منتصر', 'منذر', 'منعم', 'منهل', 'منيب', 'منير', 'مهدي', 'مهند', 'مؤمن', 'مؤيد', 'ميثم', 'ميثاق', 'ميرزا', 'ناجي', 'نادر', 'ناصر', 'نافع', 'نائل', 'نبراس', 'نبيل', 'نجد', 'نجار', 'نذير', 'نجم', 'نزار', 'نصر', 'نصار', 'نصيف', 'نضال', 'نعمان', 'نعيم', 'نفيس', 'نهار', 'نور', 'نورس', 'نواف', 'نوري', 'هادي', 'هاشم', 'هاني', 'هلال', 'همام', 'هيثم', 'هيمن', 'وحيد', 'وسام', 'وسمي', 'وضاح', 'وقاد', 'وهيب', 'وائل', 'واثق', 'وليد', 'يامن', 'يحيى', 'يعرب', 'يعقوب', 'ياقوت', 'يامين', 'ياسر', 'ياسين', 'يزد', 'يسر', 'يسرى', 'يوسف', 'يزيد', 'يزن', 'يونس'
  ],
  femaleFirstNames: [
    'أثير', 'أحلام', 'أروى', 'أريج', 'أرينا', 'أريام', 'أزهار', 'أسماء', 'أسيل', 'أصالة', 'أضواء', 'ألاء', 'ألماس', 'أماني', 'أمنة', 'أمنية', 'أمامة', 'أميرة', 'أنغام', 'أنفال', 'أنوار', 'أنيسة', 'إخلاص', 'إكرام', 'إلهام', 'إيناس', 'إيلاف', 'إيمان', 'إيثار', 'براء', 'بتول', 'بثينة', 'بشرى', 'بلسم', 'بلقيس', 'بنان', 'بنين', 'بدور', 'بسمة', 'بيان', 'تبارك', 'تالا', 'توليب', 'تولين', 'تغريد', 'تقى', 'ثناء', 'ثريا', 'جمانة', 'جوري', 'جوليانا', 'جيهان', 'حنان', 'حنين', 'حور', 'حوراء', 'حكمة', 'خديجة', 'خلود', 'خولة', 'داليا', 'دلال', 'دعاء', 'دعد', 'ديما', 'ديمة', 'ذكرى', 'ذكريات', 'رابعة', 'رانيا', 'رانية', 'راوية', 'رباب', 'رتاج', 'رحاب', 'رحمة', 'رزان', 'رشا', 'رغد', 'رغدة', 'رقية', 'رلا', 'رند', 'رنين', 'روان', 'روضة', 'رؤى', 'ريتاج', 'ريماس', 'ريما', 'ريام', 'ريم', 'ريناد', 'رينال', 'زبيدة', 'زكية', 'زهرة', 'زمرد', 'زينة', 'سارة', 'سالي', 'سحر', 'سعدية', 'سعاد', 'سديل', 'سديم', 'سمر', 'سميرة', 'سناء', 'سندس', 'سهام', 'سهى', 'سهر', 'سوسن', 'سيلين', 'شادن', 'شهد', 'شروق', 'شذى', 'شكران', 'شمس', 'شهيناز', 'شيرين', 'شيماء', 'شيخة', 'صبا', 'صابرين', 'صباح', 'صفا', 'صمود', 'ضحى', 'ضياء', 'طيبة', 'طيف', 'عاتكة', 'عائشة', 'عبلة', 'عبير', 'عذراء', 'عذوبة', 'عزة', 'عزيزة', 'عشتار', 'عفاف', 'عفراء', 'عفت', 'علا', 'علياء', 'عهود', 'غادة', 'غفران', 'غزل', 'غالية', 'غدير', 'فاتن', 'فادية', 'فاطمة', 'فاطيما', 'فايزة', 'فجر', 'فدوى', 'فردوس', 'فرح', 'فريال', 'فلك', 'فوزية', 'فيحاء', 'فيروز', 'قمر', 'قمرية', 'كوثر', 'كريمة', 'كفاح', 'كندا', 'لانا', 'لمى', 'لما', 'لمياء', 'لميس', 'لينة', 'ليان', 'ليلى', 'لينا', 'لجين', 'لوليا', 'ماريا', 'مرام', 'مرفت', 'مروة', 'مريم', 'مزن', 'ميس', 'ميساء', 'ميسون', 'مي', 'ميادة', 'ميار', 'ميرا', 'ملك', 'منال', 'منى', 'منيرة', 'مها', 'نادين', 'نادية', 'ناردين', 'ندى', 'نرجس', 'نسرين', 'نوال', 'نور', 'نورهان', 'نجاح', 'نجلاء', 'نجوى', 'نهلة', 'هناء', 'هند', 'هالة', 'هبة', 'هدى', 'هيا', 'هيفاء', 'وئام', 'وداد', 'ورود', 'وجدان', 'ولاء', 'وفاء', 'وسام', 'ياقوت', 'ياسمين', 'يسر', 'يسرى', 'يمن', 'يمنى', 'يقين'
  ],
  // Unified pool of names for fathers, grandfathers, and other family members
  names: [
    'آدم', 'أثير', 'أحمد', 'أديب', 'أسامة', 'أكثم', 'أمير', 'أنس', 'أنمار', 'أوس', 'أويس', 'أياد', 'أيوب', 'أيهم', 'إبراهيم', 'إدريس', 'إقدام', 'إياد', 'إياس', 'إلياس', 'إيهاب', 'باقر', 'باهر', 'باسل', 'بدر', 'براء', 'بهجت', 'بهلوان', 'بيبرس', 'بشار', 'بشير', 'بسام', 'بسيم', 'بلال', 'تأبط', 'تامر', 'تبارك', 'تميم', 'توفيق', 'ثائر', 'ثامر', 'جابر', 'جاسم', 'جبار', 'جراح', 'جبريل', 'جلاء', 'جلال', 'جمال', 'جميل', 'جواد', 'جود', 'حاتم', 'حارث', 'حازم', 'حامد', 'حبيب', 'حجاج', 'حسام', 'حسان', 'حسيب', 'حسن', 'حسين', 'حكيم', 'حليم', 'حمزة', 'حمود', 'حنان', 'حقي', 'حيدر', 'حيدرة', 'خالد', 'خليل', 'خميس', 'داود', 'داني', 'دريد', 'ذوالفقار', 'ذياب', 'رضا', 'رزاق', 'رشاد', 'رسل', 'رسلان', 'رشيد', 'رضوان', 'رعد', 'راغب', 'رافد', 'راكان', 'رامي', 'رائد', 'رأفت', 'راني', 'ربيع', 'رياض', 'ريان', 'رمزي', 'زكريا', 'زيد', 'زياد', 'سجاد', 'سعد', 'سعدون', 'سعود', 'سعيد', 'سراج', 'سرمد', 'سفيان', 'سلمان', 'سليم', 'سمير', 'سند', 'سهيل', 'ساهر', 'سيف', 'شاكر', 'شادي', 'شعيب', 'شفيق', 'شعلان', 'شميل', 'شهاب', 'شوان', 'شوكت', 'صابر', 'صافي', 'صالح', 'صباح', 'صبري', 'صفاء', 'صفوان', 'صقر', 'صهيب', 'ضياء', 'ضيف', 'طارق', 'طاهر', 'طلال', 'طه', 'عابد', 'عابدين', 'عادل', 'عاصم', 'عاطف', 'عامر', 'عايد', 'عباس', 'عبد الباري', 'عبد الباسط', 'عبد الباقي', 'عبد الجبار', 'عبد الجليل', 'عبد الحكيم', 'عبد الحليم', 'عبد الحميد', 'عبد الحي', 'عبد الخالق', 'عبد الدايم', 'عبد الرازق', 'عبد الرزاق', 'عبد الرشيد', 'عبد الستار', 'عبد السلام', 'عبد الشافي', 'عبد الصمد', 'عبد العظيم', 'عبد الغفار', 'عبد الغفور', 'عبد الغني', 'عبد الفتاح', 'عبد القادر', 'عبد القهار', 'عبد القوي', 'عبد الكريم', 'عبد اللطيف', 'عبد المعين', 'عبد المنعم', 'عبد الوهاب', 'عبد الهادي', 'عبد الله', 'عبد العزيز', 'عبود', 'عجاج', 'عذير', 'عصام', 'عصمت', 'عقيل', 'علاء', 'علاوي', 'علي', 'عمار', 'عمارة', 'عمران', 'عماد', 'عناد', 'عنان', 'عنتر', 'عودة', 'عواد', 'عوض', 'عويص', 'عدي', 'عيد', 'عيسى', 'عيفان', 'غانم', 'غالب', 'غسان', 'غني', 'غيث', 'فادي', 'فارس', 'فاروق', 'فاضل', 'فالح', 'فائز', 'فاتح', 'فخري', 'فراس', 'فلاح', 'فهد', 'فؤاد', 'فوز', 'فوزي', 'فيصل', 'قاسم', 'قحطان', 'قصي', 'قتيبة', 'قيس', 'كاظم', 'كرم', 'كرار', 'كليب', 'كمال', 'كنان', 'كناري', 'كوثر', 'لقمان', 'لؤي', 'لبيب', 'ليث', 'لميع', 'لهيب', 'ماجد', 'ماهر', 'مازن', 'مأمون', 'مجاهد', 'مجد', 'مدثر', 'مراد', 'مرتضى', 'مروان', 'مزهر', 'مستور', 'مسلم', 'مشاري', 'مشتاق', 'مشعل', 'مشير', 'مصدق', 'مصعب', 'مصطفى', 'مطر', 'مطيع', 'مظفر', 'معاذ', 'معتز', 'معتصم', 'معز', 'معن', 'مقداد', 'مقدام', 'مكارم', 'مكرم', 'ممدوح', 'منار', 'منتصر', 'منذر', 'منعم', 'منهل', 'منيب', 'منير', 'مهدي', 'مهند', 'مؤمن', 'مؤيد', 'ميثم', 'ميثاق', 'ميرزا', 'ناجي', 'نادر', 'ناصر', 'نافع', 'نائل', 'نبراس', 'نبيل', 'نجد', 'نجار', 'نذير', 'نجم', 'نزار', 'نصر', 'نصار', 'نصيف', 'نضال', 'نعمان', 'نعيم', 'نفيس', 'نهار', 'نور', 'نورس', 'نواف', 'نوري', 'هادي', 'هاشم', 'هاني', 'هلال', 'همام', 'هيثم', 'هيمن', 'وحيد', 'وسام', 'وسمي', 'وضاح', 'وقاد', 'وهيب', 'وائل', 'واثق', 'وليد', 'يامن', 'يحيى', 'يعرب', 'يعقوب', 'ياقوت', 'يامين', 'ياسر', 'ياسين', 'يزد', 'يسر', 'يسرى', 'يوسف', 'يزيد', 'يزن', 'يونس'
  ]
};

// Check if names already exist to prevent re-seeding
async function checkExistingNames() {
  try {
    const namesRef = collection(db, 'names');
    const querySnapshot = await getDocs(namesRef);
    return querySnapshot.size > 0;
  } catch (error) {
    console.error('Error checking existing names:', error);
    return false;
  }
}

// Seed names to Firebase
async function seedNames() {
  try {
    const namesRef = collection(db, 'names');
    
    for (const [nameType, names] of Object.entries(iraqiNames)) {
      console.log(`📝 Adding ${names.length} ${nameType}...`);
      
      for (const name of names) {
        await addDoc(namesRef, {
          name: name,
          type: nameType,
          createdAt: new Date(),
          usageCount: 1,
          lastUsed: new Date()
        });
      }
    }
    
    return true;
  } catch (error) {
    console.error('Error seeding names:', error);
    return false;
  }
}

// Add custom names if needed
async function addCustomNames() {
  try {
    const namesRef = collection(db, 'names');
    
    // Add any additional custom names here
    const customNames = [
      // Add custom names as needed
    ];
    
    for (const name of customNames) {
      await addDoc(namesRef, {
        name: name,
        type: 'custom',
        createdAt: new Date(),
        usageCount: 1,
        lastUsed: new Date()
      });
    }
    
    return true;
  } catch (error) {
    console.error('Error adding custom names:', error);
    return false;
  }
}

// Main function
async function main() {
  console.log('🌱 Starting names database seeding...');
  
  try {
    // Check if names already exist
    const hasExistingNames = await checkExistingNames();
    if (hasExistingNames) {
      console.log('✅ Names already exist in database. Skipping seeding.');
      return;
    }
    
    // Seed the names
    const success = await seedNames();
    if (success) {
      console.log('✅ Successfully seeded names to Firebase!');
      
      // Add custom names if any
      await addCustomNames();
      
      console.log('🎉 Names database is ready for autocomplete functionality.');
    } else {
      console.error('❌ Failed to seed names to Firebase.');
    }
  } catch (error) {
    console.error('❌ Error during seeding:', error);
  }
  
  console.log('🎯 Names database seeding completed successfully!');
}

// Run the script
main().catch(console.error);
